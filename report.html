<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=0.8"/>
  <title>Laporan Perencanaan Tulangan Balok — Contoh</title>
  <link rel="stylesheet" href="report.css">
  <script>
    // Konfigurasi MathJax harus diletakkan sebelum memuat skrip MathJax itu sendiri
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\$', '\\$']],
        displayMath: [['$$', '$$'], ['\\$', '\\$']]
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <div class="wrapper"> <!-- Wrapper baru ditambahkan di sini -->
    <div class="container">
      <div class="container-inner">
      <header style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #e6eef8; padding-bottom: 12px; margin-bottom: 18px; flex-wrap: wrap; gap: 12px;">
        <div class="header-left-group" style="display: flex; align-items: center; flex-wrap: nowrap; min-width: 0;">
          <button class="circle glass" aria-label="Kembali" onclick="goBack(event)" title="Kembali" style="margin-right: 12px; flex-shrink: 0;">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M15 18l-6-6 6-6" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <div style="flex: 1; min-width: 0;">
            <h1>Laporan Perhitungan — Tulangan Balok</h1>
            <div class="meta">Tanggal: <span id="tgl"></span></div>
          </div>
        </div>
        <div class="btn-group" style="margin-left: auto; justify-content: flex-end; display: flex; flex-wrap: wrap; gap: 8px; flex-shrink: 0;">
          <button onclick="window.location.href='index.html'">Tampilkan Laporan Lengkap</button>
        </div>
      </header>

      <div class="layout">
        <div class="main-content">
          <section class="input-data" style="grid-area: input;">
            <h2 style="margin:0 0 8px 0">Input Data</h2>
            <div class="grid">
              <div class="card">
                <h3 style="display: flex; align-items: center; gap: 10px;">
                  <div class="feature-icon">1</div>
                  Dimensi
                </h3> 
                <div>
                  <div class="value">b = 250 mm</div>
                  <div class="value">h = 500 mm</div>
                </div>
              </div>
                <div class="card">
                  <h3 style="display: flex; align-items: center; gap: 10px;">
                    <div class="feature-icon">2</div>
                    Material
                  </h3>
                  <div>
                    <div class="value">f'c = 25 MPa</div>
                    <div class="value">fy = 400 MPa</div>
                  </div>
                </div>

                <div class="card">
                  <h3 style="display: flex; align-items: center; gap: 10px;">
                    <div class="feature-icon">3</div>
                    Tulangan
                  </h3>
                  <div>
                    <div class="value">D = 19 mm</div>
                    <div class="value">ɸ = 12 mm</div>
                  </div>
                </div>

                <div class="card">
                  <h3 style="display: flex; align-items: center; gap: 10px;">
                    <div class="feature-icon">4</div>
                    Selimut Beton
                  </h3>
                  <div class="value">ts = 30 mm</div>
                </div>

                <div class="card">
                  <h3 style="display: flex; align-items: center; gap: 10px;">
                    <div class="feature-icon">5</div>
                    Pembebanan
                  </h3>
                  <div>
                    <div class="value">Mu+ = 63.170 kNm</div>
                    <div class="value">Mu- = 141.334 kNm</div>
                    <div class="value">Vu = 155.000 kN</div>
                  </div>
                </div>

                <div class="card">
                  <h3 style="display: flex; align-items: center; gap: 10px;">
                    <div class="feature-icon">6</div>
                    Konstanta
                  </h3>
                  <div>
                    <div class="value">&phi; = 0.9</div>
                    <div class="value">B1 = 0.85</div>
                  </div>
                </div>
            </div>
          </section>

          <div class="penampang-wrapper" style="grid-area: card; width:auto; height:auto;">
            <div class="penampang-card">
              <h3 style="margin-top:0">Penampang Balok</h3>
              <!-- Tempat SVG akan muncul -->
              <div id="svg-container" style="width: auto; height: 230px; position: relative; border: 1px solid #ddd;"></div>              <div class="button" style="justify-content:center;margin-top:10px">
                <button onclick="exportCAD()" style="width: auto; height: auto; font-size: 16px;">Copy ke CAD</button>
              </div>
            </div>
          </div>

          <section class="proses-perhitungan" style="grid-area: proses;">
            <h2 style="margin:0 0 8px 0">Ringkasan Perhitungan</h2>
            <div class="proses-scale">
              <ol class="steps">
                <li>
                  <div class="step-desc">Faktor tahanan momen positif</div>
                  <div class="step-body">
                    <div class="step-formula">$ R_n = 1.7905 < R_{max} = 6.5736 $</div>
                    <div class="step-result">→ <strong>OK</strong></div>
                  </div>
                </li>
                <li>
                  <div class="step-desc">Letak titik berat tulangan positif</div>
                  <div class="step-body">
                    <div class="step-formula">$ d' = 51.50\,\text{mm} < 80\,\text{mm} $</div>
                    <div class="step-result">→ <strong>OK</strong></div>
                  </div>
                </li>
                <li>
                  <div class="step-desc">Tahanan momen balok positif</div>
                  <div class="step-body">
                    <div class="step-formula">$ \phi M_n = 77.510\,\text{kNm} \geq M_u^+ = 63.170\,\text{kNm} $</div>
                    <div class="step-result">→ <strong>AMAN</strong></div>
                  </div>
                </li>
                <li>
                  <div class="step-desc">Faktor tahanan momen negatif</div>
                  <div class="step-body">
                    <div class="step-formula">$ R_n = 4.0061 < R_{max} = 6.5736 $</div>
                    <div class="step-result">→ <strong>OK</strong></div>
                  </div>
                </li>
                <li>
                  <div class="step-desc">Letak titik berat tulangan negatif</div>
                  <div class="step-body">
                    <div class="step-formula">$ d' = 51.50\,\text{mm} < 80\,\text{mm} $</div>
                    <div class="step-result">→ <strong>OK</strong></div>
                  </div>
                </li>
                <li>
                  <div class="step-desc">Tahanan momen balok negatif</div>
                  <div class="step-body">
                    <div class="step-formula">$ \phi M_n = 179.249\,\text{kNm} \geq M_u^- = 141.334\,\text{kNm} $</div>
                    <div class="step-result">→ <strong>AMAN</strong></div>
                  </div>
                </li>
                <li>
                  <div class="step-desc">Tahanan geser beton</div>
                  <div class="step-body">
                    <div class="step-formula">$ \phi V_c = 52.500\,\text{kN} $</div>
                    <div class="step-result">→ Perlu tulangan geser</div>
                  </div>
                </li>
                <li>
                  <div class="step-desc">Tahanan geser sengkang</div>
                  <div class="step-body">
                    <div class="step-formula">$ \phi V_s = 102.500\,\text{kN} $</div>
                  </div>
                </li>
                <li>
                  <div class="step-desc">Jarak sengkang yang digunakan</div>
                  <div class="step-body">
                    <div class="step-formula">$ s = 130\,\text{mm} \leq s_{max} = 224.25\,\text{mm} $</div>
                    <div class="step-result">→ <strong>OK</strong></div>
                  </div>
                </li>
              </ol>
            </div>
          </section>

          <section class="ringkasan-tulangan" style="grid-area: ringkasan;">
            <h2 style="margin:0 0 8px 0">Ringkasan Tulangan</h2>
              <div class="calculation-results">
                <div class="result-item">
                  <h4>Luas Tulangan Tarik (As)</h4>
                  <p id="asResult">429 mm²</p>
                </div>
                <div class="result-item">
                  <h4>Luas Tulangan Tekan (As')</h4>
                  <p id="asPrimeResult">1175 mm²</p>
                </div>
                <div class="result-item">
                  <h4>Tulangan Tarik</h4>
                  <p id="diameterResult">2D19</p>
                </div>
                <div class="result-item">
                  <h4>Tulangan Tekan</h4>
                  <p id="jumlahBatangResult">5D19</p>
                </div>
                <div class="result-item">
                  <h4>Tulangan Begel</h4>
                  <p id="jarakSengkangResult">∅12-130</p>
                </div>
                <div class="result-item">
                  <h4>Selimut Beton</h4>
                  <p id="rasioTulanganResult">30 mm</p>
                </div>
              </div>
              <div id="statusMessage"></div>
            </div>
          </section>
        </div>
      </div>
        <div class="beam-section">
          <h2 class="section-title" style="margin-bottom: 0px;">ℹ️ INFORMASI TEKNIS</h2>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
            <div>
              <h4>Standar yang Digunakan:</h4>
              <ul style="color: #666; line-height: 1.6;">
                <li>SNI 2847:2019</li>
                <li>ACI 318-19</li>
                <li>Peraturan Beban Indonesia</li>
                <li>Standar SRPM</li>
              </ul>
            </div>
          </div>
        </div>

      <footer>Created by Rizqika A'la [D100200270]</footer>
      </div>
    </div>
  </div> <!-- Akhir dari wrapper -->

  <script src="report.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="cut-generator.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js"></script>
  <script src="pdf-maker.js"></script>
</body>
</html>