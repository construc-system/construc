<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Construc</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style-base.css">
<link rel="stylesheet" href="style-components.css">
<link rel="stylesheet" href="mobile.css">
</head>
<body>
  <div class="color-dots"></div>
  
  <div class="app">
    <aside class="sidebar" aria-label="Navigasi utama">
      <!-- Desktop Brand -->
      <div class="brand">
        <div class="logo">CC</div>
        <div>
          <h1>ConcreteCalc</h1>
          <p class="muted">UI Disempurnakan</p>
        </div>
      </div>

      <!-- Desktop Navigation -->
      <nav class="nav" role="navigation" aria-label="Primary">
        <button class="nav-btn active" data-target="balok">
          Balok
        </button>
        <button class="nav-btn" data-target="kolom">
          Kolom
        </button>
        <button class="nav-btn" data-target="pelat">
          Pelat
        </button>
        <button class="nav-btn" data-target="fondasi">
          Fondasi
        </button>

        <!-- Tombol Pengaturan di bagian bawah sidebar -->
        <button class="nav-btn settings-btn" id="settingsBtn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z" />
          </svg>
          Pengaturan
        </button>
      </nav>

      <!-- Mobile Navigation -->
      <div class="mobile-nav-container">
        <div class="mobile-nav-header">
          <div class="mobile-brand">
            <div class="logo">CC</div>
            <div class="mobile-brand-text">
              <h1>ConcreteCalc</h1>
              <p class="muted">UI Disempurnakan</p>
            </div>
          </div>
          
          <div class="mobile-nav-controls">
            <!-- Custom Dropdown -->
            <div class="custom-dropdown" id="customDropdown">
              <div class="dropdown-selected" id="dropdownSelected">
                <span>Balok</span>
              </div>
              <div class="dropdown-options" id="dropdownOptions">
                <div class="dropdown-option active" data-value="balok">Balok</div>
                <div class="dropdown-option" data-value="kolom">Kolom</div>
                <div class="dropdown-option" data-value="pelat">Pelat</div>
                <div class="dropdown-option" data-value="fondasi">Fondasi</div>
              </div>
            </div>
            
            <button class="mobile-settings-btn" id="mobileSettingsBtn">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z" />
              </svg>
            </button>
          </div>
        </div>
      </div>
    </aside>

    <main class="main" role="main">
      <div class="main-header">
        <div>
          <!-- PERUBAHAN: Header disederhanakan -->
          <div class="main-title">PERHITUNGAN TULANGAN</div>
          <div class="main-sub" id="currentModuleName">Balok</div>
        </div>
        <div class="mode-toggle-container">
          <!-- Tombol Tips di samping kiri toggle - DIUBAH -->
          <button class="circle-tips-btn" id="mainTipsBtn" title="Tips & Panduan" data-tips="Tips umum untuk menggunakan aplikasi ConcreteCalc. Gunakan navigasi di sidebar untuk beralih modul, dan tombol toggle untuk mengganti mode desain atau evaluasi.">?</button>
          
          <!-- Enhanced Mode Toggle - Diperbaiki untuk mobile -->
          <div class="mode-toggle">
            <button data-mode="desain" class="active" id="desainModeBtn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2" />
              </svg>
              Desain
            </button>
            <button data-mode="evaluasi" id="evaluasiModeBtn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
              </svg>
              Evaluasi
            </button>
          </div>
        </div>
      </div>

      <div class="content" id="contentRoot">
        <section class="panel-col">
          <!-- Quick Inputs Card - dipindah ke atas -->
          <div class="quick-inputs-card">
            <div class="card-header-with-tips">
              <h3>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" 
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
                    class="lucide lucide-boxes">
                  <path d="M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z"/>
                  <path d="m7 16.5-4.74-2.85"/>
                  <path d="m7 16.5 5-3"/>
                  <path d="M7 16.5v5.17"/>
                  <path d="M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z"/>
                  <path d="m17 16.5-5-3"/>
                  <path d="m17 16.5 4.74-2.85"/>
                  <path d="M17 16.5v5.17"/>
                  <path d="M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z"/>
                  <path d="M12 8 7.26 5.15"/>
                  <path d="m12 8 4.74-2.85"/>
                  <path d="M12 13.5V8"/>
                </svg>
                Data Material
              </h3>

              <!-- DIUBAH: ganti simple-tips-btn dengan circle-tips-btn -->
              <button class="circle-tips-btn" data-tips="Quick Inputs memungkinkan Anda mengisi nilai material yang umum digunakan. Nilai f'c adalah kuat tekan beton (MPa) dan fy adalah kuat leleh baja tulangan (MPa).">?</button>
            </div>
            <div class="quick-inputs-grid">
              <div class="quick-field">
                <label>f'<sub>c</sub></label>
                <div class="input-with-unit" data-unit="MPa">
                  <input id="quickFc" placeholder="Kuat Tekan Beton">
                </div>
              </div>
              <div class="quick-field">
                <label>f<sub>y</sub></label>
                <div class="input-with-unit" data-unit="MPa">
                  <input id="quickFy" placeholder="Kuat Leleh Baja">
                </div>
              </div>
              <div class="quick-field" id="fytField" style="display: none;">
                <label>f<sub>yt</sub></label>
                <div class="input-with-unit" data-unit="MPa">
                  <input id="quickFyt" placeholder="Kuat Leleh Baja Begel">
                </div>
              </div>
              <div class="quick-field" id="gammaCField" style="display: none;">
                <label>…£<sub>c</sub></label>
                <div class="input-with-unit" data-unit="kN/m¬≥">
                  <input id="quickGammaC" placeholder="Berat Jenis Tanah">
                </div>
              </div>
            </div>
            <!-- Tombol dihapus sesuai permintaan -->
          </div>

          <!-- Panel: Module Form (dynamic content rendered by JS) -->
          <div id="moduleForm" class="card">
            <!-- content injected by JS -->
          </div>
          
          <!-- Panel Actions - DIPINDAH KE LUAR CARD -->
          <div class="panel-actions">
            <button class="btn ghost" id="saveDraftBtn">Simpan Draft</button>
            <button class="btn primary" id="calculateBtn">Hitung Desain</button>
          </div>
        </section>
      </div>
    </main>
  </div>

  <!-- Settings Modal -->
  <div class="modal-overlay" id="settingsModal">
    <div class="modal">
      <div class="modal-header">
        <h2>Pengaturan</h2>
        <button class="close-modal" id="closeModalBtn">&times;</button>
      </div>
      <div class="modal-content">
        <!-- General Section -->
        <div class="segmented-section">
          <div class="section-title">üõ†Ô∏è General</div>
          <div class="general-settings">
            <label class="checkbox-label">
              <input type="checkbox" id="rememberModuleCheckbox">
              <span>Remember last opened module</span>
            </label>
          </div>
        </div>
        <hr class="section-divider">

        <!-- Color Section -->
        <div class="segmented-section">
          <div class="section-title">üé® Color</div>
          <div class="color-inputs">
            <div class="color-input">
              <label for="color1">Body BG:</label>
              <input type="color" id="colorPicker1" value="#FFF1D5">
              <input type="text" id="colorInput1" value="#FFF1D5" placeholder="Hex color">
            </div>
            <div class="color-input">
              <label for="color2">Buttons:</label>
              <input type="color" id="colorPicker2" value="#BDDDE4">
              <input type="text" id="colorInput2" value="#BDDDE4" placeholder="Hex color">
            </div>
            <div class="color-input">
              <label for="color3">Borders:</label>
              <input type="color" id="colorPicker3" value="#9EC6F3">
              <input type="text" id="colorInput3" value="#9EC6F3" placeholder="Hex color">
            </div>
            <div class="color-input">
              <label for="color4">Labels:</label>
              <input type="color" id="colorPicker4" value="#9FB3DF">
              <input type="text" id="colorInput4" value="#9FB3DF" placeholder="Hex color">
            </div>
          </div>
        </div>

        <div class="color-actions">
          <button class="btn ghost" id="randomColorsBtn">Random Colors</button>
          <button class="btn ghost" id="resetColorsBtn">Reset</button>
          <button class="btn primary" id="applyColorsBtn">Apply</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Tips Modal -->
  <div class="modal-overlay" id="tipsModal">
    <div class="modal tips-modal">
      <div class="modal-header">
        <h2>Tips & Panduan</h2>
        <button class="close-modal" id="closeTipsModalBtn">&times;</button>
      </div>
      <div class="modal-content">
        <div class="tips-content" id="tipsContent">
          <!-- Content akan diisi oleh JavaScript -->
        </div>
      </div>
    </div>
  </div>

  <!-- Load modul JavaScript -->
  <script src="modul-balok.js"></script>
  <script src="modul-kolom.js"></script>
  <script src="modul-pelat.js"></script>
  <script src="modul-fondasi.js"></script>
  <script src="script.js"></script>
</body>
</html>